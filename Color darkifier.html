<html>
<head>
<title>Test</title>
</head>
<body>
<input type = "color"></>
<br>
<input type = "text" id = "startvalue" placeholder="#000000"></>
<br>
<input type = "text" id = "factor" value="10"> I procent</>
<br>
<input type="button" value="Darker?" onClick="test()"></>
<br>
<canvas id = "test" height="400" width="400">
</canvas>
<br>
<input type="text" id="answer"></>
<script>
var field = document.getElementById("test").getContext("2d");
field.fillStyle="#000000";
field.fillRect(0,0,400,400);
function test() {
var text1 = document.getElementById("startvalue").value;
var factor = parseInt(document.getElementById("factor").value);
var splitted = text1.toUpperCase().split("");
var expected = ["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"];
var filtered = "";
var done = "";
var red = 0;
var green = 0;
var blue = 0;
var colors = [];
var loops = splitted.length/2;
var tracker = 0;
for (var i = 0; i<loops; i++) {
if (expected.includes(splitted[i*2])) {
filtered = filtered+splitted[i*2];
tracker++;
}
if (tracker==2) {
done=done+filtered+" ";
filtered=" ";
tracker=0;
}
if (expected.includes(splitted[(i*2)+1])) {
filtered = filtered+splitted[(i*2)+1];
tracker++;
}
if (tracker==2) {
done=done+filtered+" ";
filtered=" ";
tracker=0;
}
}
var totalColors=done.split(" ");
red = parseInt(totalColors[0],16);
green = parseInt(totalColors[2],16);
blue = parseInt(totalColors[4],16);
var num1 = Math.round(((red/255)*(factor/100))*255).toString(16);
var num2 = Math.round(((green/255)*(factor/100))*255).toString(16);
var num3 = Math.round(((blue/255)*(factor/100))*255).toString(16);
if (num1.length==1) {
num1="0"+num1;
}
if (num2.length==1) {
num2="0"+num2;
}
if (num3.length==1) {
num3="0"+num3;
}
var answer="#"+num1+num2+num3;
console.log(answer+" :Red: "+(red/255));
document.getElementById("answer").value=answer;
field.fillStyle=answer;
field.fillRect(0,0,400,400);
}
</script>
</body>
</html>